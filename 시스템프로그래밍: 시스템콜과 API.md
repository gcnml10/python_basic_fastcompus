### 시스템 프로그래밍의 기반 요소
- 시스템 콜 (system call)
- C 라이브러리
- C 컴파일러

### 시스템 콜
- 시스템 콜: 운영체제 리소스나 서비스 요청을 위해, 사용자 영역에서 커널 영역으로 들어가는 함수
- 주요 시스템콜: read(), write(), open() 등
> 리눅스/유닉스는 C 언어로 만들어져 있으므로, 시스템콜도 C언어로 구현


### 시스템 콜 구현
+ eax 레지스터에 시스템 콜 번호를 넣고,
+ ebx 레지스터에는 시스템 콜에 해당하는 인자값을 넣고,
+ 소프트웨어 인터럽트 명령을 호출하면서 0x80값을 넘겨줌
```
mov eax, 1  //시스템콜 함수
mov ebx, 0  //함수의 인자
int 0x80    //소프트웨어 인터럽트 명령
```
+ 소프트웨어 인터럽트 명령을 호출하면서 0x80값을 넘겨줌
  1. CPU는 사용자 모드를 커널 모드로 바꿔줌
  2. IDT(Interrupt Descriptor Table)에서 0x80에 해당한느 주소(함수)를 찾아서 실행함
  3. system_call() 함수에서 eax로 부터 시스템 콜 번호를 찾아서, 해당 번호에 맞는 시스템콜 함수로 이동
  4. 해당 시스템콜 함수 실행 후, 다시 커널 모드에서 사용자 모드로 변경하고, 다시 해당 프로세스 다음 코드 진행
  
### API
- 응용 프로그래모가 분리된 하위 호환 인터페이스
  + 예: 시스템 콜 래퍼(사용자가 사용하기 쉽게 인터페이스 제공(이해하기 쉽게 fork()를 process_fork(){}안에 넣는 등)), 입출력 라이브러리 등등
  > 참고
  > 동적 라이브러리: 완성된 프로그램(실행파일)을 실행할 때 라이브러리를 포함시키는 것
  > 정적 라이브러리: static하게 제작한다는 것은 link 단계(컴파일 하는 과정)에서 라이브러리(*.lib 파일)를 실행 바이너리에 포함 시킨다는 것

### C 라이브러리
- 유닉스 C 라이브러리 - libc
- 리눅스 C 라이브러리 - GNU libc- glibc(지립씨, 글립씨)
  + 시스템콜, 시스템콜 래퍼, 기본 응용 프로그램 기능 포함
  
### C 컴파일러
- 유닉스 C 컴파일러 - cc
- 리눅스 C 컴파일러 - GNU cc- gcc(지씨씨)
- 우분투 리눅스에 gcc설치
```
sudo apt-get install gcc
gcc --version
gcc -o test.c test
```

### ABI ( Application Binary Interface)
- 응용 프로그램 바이너리 인터페이스
- 함수 실행 방식, 레지스터 활용, 시스템 콜 실행, 라이브러리 링크 방식 등
- ABI가 호환되면 재컴파일 없이 동작 (리눅스에서 만든 프로그램을 윈도우에서 실행하지 못하는 이유 1.ABI가 다름 2.시스템콜이 다름)
- 컴파일러, 링커(라이브러리 링크), 툴체인(컴파일러를 만드는 프로그램)에서 제공

### POSIX
- 유닉스 시스템 프로그래밍 인터페이스 표준
- IEE에서 표준화 시도
- 리차드 스톨만(자유 소프트웨어 재단)이 POSIX를 표준안 이름으로 제안
### C 언어 표준
- 다양한 C 언어 변종
- ANSI에서 ANSI C 표준 정립
> 리눅스는 POSIX와 ANSI C 지원

> 상위 레벨 프로그래밍을 할지라도, 하위 시스템 레벨을 알고 있으면, 더 나은 또는 성능이 개선된 소프트웨어 개발 가능



































